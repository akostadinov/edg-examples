<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:a4j="http://richfaces.org/a4j"
    xmlns:rich="http://richfaces.org/rich">
    
<ui:composition template="template.xhtml">

	<ui:define name="headerarea">
        <div class="header1">
			<h:form>        		
        		<div id="headerleft">
        			<h:graphicImage value="/image/avatar.png" alt="Avatar" styleClass="avatar"/><br/>
        			<h:outputText value="#{auth.user.name}"/>
        		</div>
        		<div id="headerright">
        			<h:panelGrid columns="1">
        				<h:outputText value="What came to your mind..."/>
		        		<h:inputTextarea value="neco jsem tady vlozil" cols="64"/>
		        		<h:commandButton action="#{tweetBeen.sendTweet()}" value="Tweet" class="signinbutton" />
		        	</h:panelGrid>
		        </div>
		    </h:form>
        </div>
	</ui:define>
	
	<ui:define name="mainarea">
        <h:form>
	        <h:panelGrid columns="1">
	            <a4j:outputPanel id="panel" layout="block">
	                <a4j:repeat value="#{tweetBeen.recentTweets}" var="tweet" rows="20" id="repeat">
	                    <rich:panel style="float:left; width:250px; padding:5px;">
	                        <f:facet name="header">
	                        	<h:panelGrid columns="2">
	                            	<h:outputText value="#{tweet.owner}" style="font-weight:bold" />
	                            	<h:outputText value="#{tweet.timeOfPost}" style="font-weight:bold" />
	                        	</h:panelGrid>
	                        </f:facet>
	                        <h:panelGrid columns="1">
	                            <h:outputText value="#{tweet.message}" />
	                        </h:panelGrid>
	                    </rich:panel>
	                </a4j:repeat>
	            </a4j:outputPanel>
	            <a4j:outputPanel layout="block">
	                <rich:dataScroller for="repeat" render="panel" />
	            </a4j:outputPanel>
	        </h:panelGrid>
	    </h:form>
	</ui:define>
	
</ui:composition>

</html>
